<!DOCTYPE html>
<html>
<head>
    <title>Editar Disponibilidade</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">

<div class="container mt-5 col-md-6">
    <h3 class="mb-4">Editar disponibilidade</h3>

    {% for message in messages %}
        <div class="alert alert-danger">{{ message }}</div>
    {% endfor %}

    <form method="POST" class="card p-4 shadow">
        {% csrf_token %}

        <label class="form-label">Profissional</label>
        <select name="profissional" class="form-select">
            {% for p in profissionais %}
                <option value="{{ p.id }}" {% if p.id == disponibilidade.profissional.id %}selected{% endif %}>
                    {{ p.nome }}
                </option>
            {% endfor %}
        </select>

        <label class="form-label mt-3">Dia da semana</label>
        <select name="dia_semana" class="form-select">
            {% for d in dias_semana %}
                <option value="{{ d.0 }}" {% if d.0 == disponibilidade.dia_semana %}selected{% endif %}>
                    {{ d.1 }}
                </option>
            {% endfor %}
        </select>

        <label class="form-label mt-3">Hora início</label>
        <input type="time" name="hora_inicio" class="form-control"
               value="{{ disponibilidade.hora_inicio|time:'H:i' }}">

        <label class="form-label mt-3">Hora fim</label>
        <input type="time" name="hora_fim" class="form-control"
               value="{{ disponibilidade.hora_fim|time:'H:i' }}">

        <button class="btn btn-primary w-100 mt-4">
            Salvar alterações
        </button>
    </form>

    <a href="{% url 'disponibilidade_list' %}" class="btn btn-link mt-3">
        Voltar
    </a>
</div>

</body>
</html>
